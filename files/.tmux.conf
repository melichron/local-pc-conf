##### GENERAL BEHAVIOR #####

# Use 256 colors (works well on most Linux terminals)
set -g default-terminal "screen-256color"

# Start window and pane numbering at 1 instead of 0
set -g base-index 1
setw -g pane-base-index 1

# Renumber windows automatically when one is closed
set -g renumber-windows on


##### INPUT / INTERACTION #####

# Enable mouse support:
# - select panes
# - resize panes
# - scroll history (copy-mode)
set -g mouse on

# Use vi-style keybindings in copy mode
setw -g mode-keys vi

# Increase scrollback history
set -g history-limit 50000


##### PANE NAVIGATION #####

# Switch panes using Alt + Arrow keys (no prefix required)
bind -n M-Left  select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up    select-pane -U
bind -n M-Down  select-pane -D

# Resize panes using Alt + Shift + Arrow keys
bind -n M-S-Left  resize-pane -L 5
bind -n M-S-Right resize-pane -R 5
bind -n M-S-Up    resize-pane -U 5
bind -n M-S-Down  resize-pane -D 5


##### WINDOW MANAGEMENT #####

# Create new window in the current working directory
bind c new-window -c "#{pane_current_path}"

# Split panes and keep current working directory
bind %   split-window -h -c "#{pane_current_path}"
bind '"' split-window -v -c "#{pane_current_path}"

# Close pane without confirmation (comment if you want safety)
# bind x kill-pane


##### COPY MODE (MOUSE + KEYBOARD FRIENDLY) #####

# Enter copy mode with mouse wheel scroll up (when not already in copy mode)
bind -n WheelUpPane if-shell -F -t = "#{mouse_any_flag}" \
  "send-keys -M" \
  "copy-mode -e; send-keys -M"

# Keep normal mouse wheel behavior
bind -n WheelDownPane send-keys -M

# Start selection in copy-mode (vi-style)
bind -T copy-mode-vi v send -X begin-selection
bind -T copy-mode-vi y send -X copy-selection-and-cancel


##### ACTIVITY / VISUAL FEEDBACK #####

# Monitor activity in inactive windows
setw -g monitor-activity on
set -g visual-activity on


##### STATUS BAR #####

# Status bar update interval (seconds)
set -g status-interval 5

# Status bar position
set -g status-position bottom

# Left side: session name
set -g status-left-length 30
set -g status-left "#[bold] #S "

# Right side: date & time
set -g status-right-length 60
set -g status-right "%Y-%m-%d %H:%M"


##### SAFETY / QUALITY OF LIFE #####

# Don't detach tmux when killing the last window
set -g detach-on-destroy off

# Allow programs to rename windows (e.g. ssh, vim)
set -g allow-rename on
